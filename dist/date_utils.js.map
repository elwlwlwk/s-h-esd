{"version":3,"sources":["../src/date_utils.js"],"names":["datetimes_from_ts","column","map","Date","datestring","get_gran","df","index","col","row","n","length","sort","reverse","slice","largest","second_largest","gran","module","exports"],"mappings":";;;;AAAA,SAASA,iBAAT,CAA2BC,MAA3B,EAAmC;AAC/B,WAAOA,OAAOC,GAAP,CAAW;AAAA,eAAc,IAAIC,IAAJ,CAASC,UAAT,CAAd;AAAA,KAAX,CAAP;AACH;;AAED,SAASC,QAAT,CAAkBC,EAAlB,EAA+B;AAAA,QAATC,KAAS,uEAAH,CAAG;;AAC3B,QAAIC,MAAMF,GAAGJ,GAAH,CAAQ,UAACO,GAAD;AAAA,eAASA,IAAIF,KAAJ,CAAT;AAAA,KAAR,EAA6BL,GAA7B,CAAkC,UAACO,GAAD;AAAA,eAAS,IAAIN,IAAJ,CAASM,GAAT,CAAT;AAAA,KAAlC,CAAV;AACA,QAAIC,IAAIF,IAAIG,MAAZ;;AAF2B,gCAGKH,IAAII,IAAJ,GAAWC,OAAX,GAAqBC,KAArB,CAA2B,CAA3B,EAA6B,CAA7B,CAHL;AAAA;AAAA,QAGtBC,OAHsB;AAAA,QAGbC,cAHa;;AAI3B,QAAIC,OAAO,CAACF,UAAUC,cAAX,IAA6B,IAAxC;;AAEA,QAAGC,QAAQ,KAAX,EAAkB,OAAO,KAAP,CAAlB,KACK,IAAGA,QAAQ,IAAX,EAAiB,OAAO,IAAP,CAAjB,KACA,IAAGA,QAAQ,EAAX,EAAe,OAAO,KAAP,CAAf,KACA,IAAGA,QAAQ,CAAX,EAAc,OAAO,KAAP,CAAd,KACA,OAAO,IAAP;AACR;;AAEDC,OAAOC,OAAP,CAAed,QAAf,GAA0BA,QAA1B","file":"date_utils.js","sourcesContent":["function datetimes_from_ts(column) {\n    return column.map(datestring => new Date(datestring));\n}\n\nfunction get_gran(df, index=0) {\n    var col = df.map( (row) => row[index]).map( (row) => new Date(row) );\n    var n = col.length;\n    var [largest, second_largest] = col.sort().reverse().slice(0,2);\n    var gran = (largest - second_largest) / 1000;\n\n    if(gran >= 86400) return 'day';\n    else if(gran >= 3600) return 'hr';\n    else if(gran >= 60) return 'min';\n    else if(gran >= 1) return 'sec';\n    else return 'ms';\n}\n\nmodule.exports.get_gran = get_gran;"]}